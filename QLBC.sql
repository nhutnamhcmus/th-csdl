
--USE [QuanLyBaoChi]
--GO
/****** Object:  Table [dbo].[THE_LOAI]    Script Date: 10/16/2010 19:41:16 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
SET ANSI_PADDING ON
GO
CREATE TABLE [dbo].[THE_LOAI](
	[MaTheLoai] [char](4) NOT NULL,
	[TenTheLoai] [nvarchar](100) NULL,
	[SoLuongTonToiDa] [int] NULL,
 CONSTRAINT [PK_THE_LOAI] PRIMARY KEY CLUSTERED 
(
	[MaTheLoai] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
INSERT [dbo].[THE_LOAI] ([MaTheLoai], [TenTheLoai], [SoLuongTonToiDa]) VALUES (N'TL01', N'Báo tuần', 10)
INSERT [dbo].[THE_LOAI] ([MaTheLoai], [TenTheLoai], [SoLuongTonToiDa]) VALUES (N'TL02', N'Tạp chí tháng', 15)
INSERT [dbo].[THE_LOAI] ([MaTheLoai], [TenTheLoai], [SoLuongTonToiDa]) VALUES (N'TL03', N'Tạp chí quý', 20)
/****** Object:  Table [dbo].[LOAI_NGUOI_DUNG]    Script Date: 10/16/2010 19:41:16 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
SET ANSI_PADDING ON
GO
CREATE TABLE [dbo].[LOAI_NGUOI_DUNG](
	[MaLoai] [char](4) NOT NULL,
	[TenLoai] [nvarchar](100) NULL,
	[TienNoToiDa] [money] NULL,
	[HeSoDiemThuong] [int] NULL,
	[DiemTichLuyCanThiet] [float] NULL,
 CONSTRAINT [PK_LOAI_NGUOI_DUNG] PRIMARY KEY CLUSTERED 
(
	[MaLoai] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
INSERT [dbo].[LOAI_NGUOI_DUNG] ([MaLoai], [TenLoai], [TienNoToiDa], [HeSoDiemThuong], [DiemTichLuyCanThiet]) VALUES (N'ML01', N'Thường xuyên', 50000.0000, 1, 50)
INSERT [dbo].[LOAI_NGUOI_DUNG] ([MaLoai], [TenLoai], [TienNoToiDa], [HeSoDiemThuong], [DiemTichLuyCanThiet]) VALUES (N'ML02', N'Thân thiết', 150000.0000, 2, 100)
/****** Object:  Table [dbo].[DAI_LY]    Script Date: 10/16/2010 19:41:16 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
SET ANSI_PADDING ON
GO
CREATE TABLE [dbo].[DAI_LY](
	[MaDaiLy] [char](5) NOT NULL,
	[TenDaiLy] [nvarchar](100) NULL,
	[TienNo] [money] NULL,
	[DiemTichLuy] [float] NULL,
 CONSTRAINT [PK_DAI_LY] PRIMARY KEY CLUSTERED 
(
	[MaDaiLy] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
INSERT [dbo].[DAI_LY] ([MaDaiLy], [TenDaiLy], [TienNo], [DiemTichLuy]) VALUES (N'DL01 ', N'Đại lý A', 100000.0000, 0)
INSERT [dbo].[DAI_LY] ([MaDaiLy], [TenDaiLy], [TienNo], [DiemTichLuy]) VALUES (N'DL02 ', N'Đại lý B', 50000.0000, 0)
INSERT [dbo].[DAI_LY] ([MaDaiLy], [TenDaiLy], [TienNo], [DiemTichLuy]) VALUES (N'DL03 ', N'Đại lý C', 100000.0000, 0)
/****** Object:  Table [dbo].[BAO]    Script Date: 10/16/2010 19:41:16 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
SET ANSI_PADDING ON
GO
CREATE TABLE [dbo].[BAO](
	[MaBao] [char](4) NOT NULL,
	[TenBao] [nvarchar](100) NULL,
	[MaTheLoai] [char](4) NULL,
	[SoLuong] [int] NULL,
	[DonGia] [money] NULL,
 CONSTRAINT [PK_BAO] PRIMARY KEY CLUSTERED 
(
	[MaBao] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
INSERT [dbo].[BAO] ([MaBao], [TenBao], [MaTheLoai], [SoLuong], [DonGia]) VALUES (N'B01 ', N'Thể thao', N'TL01', 30, 8000.0000)
INSERT [dbo].[BAO] ([MaBao], [TenBao], [MaTheLoai], [SoLuong], [DonGia]) VALUES (N'B02 ', N'Phụ nữ', N'TL01', 50, 10000.0000)
INSERT [dbo].[BAO] ([MaBao], [TenBao], [MaTheLoai], [SoLuong], [DonGia]) VALUES (N'B03 ', N'Đất mũi', N'TL02', 53, 8500.0000)
INSERT [dbo].[BAO] ([MaBao], [TenBao], [MaTheLoai], [SoLuong], [DonGia]) VALUES (N'B04 ', N'Tạp chí gia đình', N'TL02', 60, 8500.0000)
INSERT [dbo].[BAO] ([MaBao], [TenBao], [MaTheLoai], [SoLuong], [DonGia]) VALUES (N'B05 ', N'Hoa học trò', N'TL01', 60, 8000.0000)
/****** Object:  Table [dbo].[KHACH_HANG]    Script Date: 10/16/2010 19:41:16 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
SET ANSI_PADDING ON
GO
CREATE TABLE [dbo].[KHACH_HANG](
	[MaKH] [char](6) NOT NULL,
	[HoTen] [nvarchar](100) NULL,
	[MaLoaiKH] [char](4) NULL,
	[TienNo] [money] NULL,
	[DiemTichLuy] [float] NULL,
 CONSTRAINT [PK_KHACH_HANG] PRIMARY KEY CLUSTERED 
(
	[MaKH] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
INSERT [dbo].[KHACH_HANG] ([MaKH], [HoTen], [MaLoaiKH], [TienNo], [DiemTichLuy]) VALUES (N'KH01  ', N'Nguyễn Ngọc Thảo', N'ML01', 50000.0000, 0)
INSERT [dbo].[KHACH_HANG] ([MaKH], [HoTen], [MaLoaiKH], [TienNo], [DiemTichLuy]) VALUES (N'KH02  ', N'Lê Minh Tâm', N'ML01', 0.0000, 2)
INSERT [dbo].[KHACH_HANG] ([MaKH], [HoTen], [MaLoaiKH], [TienNo], [DiemTichLuy]) VALUES (N'KH03  ', N'Trần Thị Xuân', N'ML02', 0.0000, 1.5)
INSERT [dbo].[KHACH_HANG] ([MaKH], [HoTen], [MaLoaiKH], [TienNo], [DiemTichLuy]) VALUES (N'KH04  ', N'Bùi Lê Minh', N'ML02', 30000.0000, 2)
/****** Object:  Table [dbo].[DON_NHAP]    Script Date: 10/16/2010 19:41:16 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
SET ANSI_PADDING ON
GO
CREATE TABLE [dbo].[DON_NHAP](
	[MaDN] [char](4) NOT NULL,
	[DaiLy] [char](5) NULL,
	[NgayNhap] [datetime] NULL,
 CONSTRAINT [PK_DON_NHAP] PRIMARY KEY CLUSTERED 
(
	[MaDN] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
INSERT [dbo].[DON_NHAP] ([MaDN], [DaiLy], [NgayNhap]) VALUES (N'DN01', N'DL01 ', CAST(0x00009CDF00000000 AS DateTime))
INSERT [dbo].[DON_NHAP] ([MaDN], [DaiLy], [NgayNhap]) VALUES (N'DN02', N'DL02 ', CAST(0x00009CDF00000000 AS DateTime))
/****** Object:  Table [dbo].[DON_HANG]    Script Date: 10/16/2010 19:41:16 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
SET ANSI_PADDING ON
GO
CREATE TABLE [dbo].[DON_HANG](
	[MaDH] [char](4) NOT NULL,
	[MaKH] [char](6) NULL,
	[NgayLap] [datetime] NULL,
	[TinhTrang] [char](10) NULL,
 CONSTRAINT [PK_DON_HANG] PRIMARY KEY CLUSTERED 
(
	[MaDH] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
INSERT [dbo].[DON_HANG] ([MaDH], [MaKH], [NgayLap], [TinhTrang]) VALUES (N'DH01', N'KH01  ', CAST(0x00009CBF00000000 AS DateTime), N'HD        ')
INSERT [dbo].[DON_HANG] ([MaDH], [MaKH], [NgayLap], [TinhTrang]) VALUES (N'DH02', N'KH02  ', CAST(0x00009C8200000000 AS DateTime), N'HD        ')
/****** Object:  Table [dbo].[CT_DONNHAP]    Script Date: 10/16/2010 19:41:16 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
SET ANSI_PADDING ON
GO
CREATE TABLE [dbo].[CT_DONNHAP](
	[MaDN] [char](4) NOT NULL,
	[MaBao] [char](4) NOT NULL,
	[SoLuong] [int] NULL,
	[DonGia] [money] NULL,
 CONSTRAINT [PK_CT_DONNHAP] PRIMARY KEY CLUSTERED 
(
	[MaDN] ASC,
	[MaBao] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
INSERT [dbo].[CT_DONNHAP] ([MaDN], [MaBao], [SoLuong], [DonGia]) VALUES (N'DN01', N'B03 ', 20, 8500.0000)
INSERT [dbo].[CT_DONNHAP] ([MaDN], [MaBao], [SoLuong], [DonGia]) VALUES (N'DN01', N'B05 ', 30, 8000.0000)
INSERT [dbo].[CT_DONNHAP] ([MaDN], [MaBao], [SoLuong], [DonGia]) VALUES (N'DN02', N'B04 ', 10, 8500.0000)
/****** Object:  Table [dbo].[PHIEU_GIAO_BAO]    Script Date: 10/16/2010 19:41:16 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
SET ANSI_PADDING ON
GO
CREATE TABLE [dbo].[PHIEU_GIAO_BAO](
	[MaPG] [char](4) NOT NULL,
	[NgayGiao] [datetime] NULL,
	[MaDH] [char](4) NULL,
 CONSTRAINT [PK_PHIEU_GIAO_BAO] PRIMARY KEY CLUSTERED 
(
	[MaPG] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
INSERT [dbo].[PHIEU_GIAO_BAO] ([MaPG], [NgayGiao], [MaDH]) VALUES (N'PG01', CAST(0x00009CE500000000 AS DateTime), N'DH01')
INSERT [dbo].[PHIEU_GIAO_BAO] ([MaPG], [NgayGiao], [MaDH]) VALUES (N'PG02', CAST(0x00009CE300000000 AS DateTime), N'DH02')
/****** Object:  Table [dbo].[CT_DONHANG]    Script Date: 10/16/2010 19:41:16 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
SET ANSI_PADDING ON
GO
CREATE TABLE [dbo].[CT_DONHANG](
	[MaDH] [char](4) NOT NULL,
	[MaBao] [char](4) NOT NULL,
	[SoLuong] [int] NULL,
	[DonGia] [money] NULL,
 CONSTRAINT [PK_CT_DONHANG] PRIMARY KEY CLUSTERED 
(
	[MaDH] ASC,
	[MaBao] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
INSERT [dbo].[CT_DONHANG] ([MaDH], [MaBao], [SoLuong], [DonGia]) VALUES (N'DH01', N'B01 ', 2, 8500.0000)
INSERT [dbo].[CT_DONHANG] ([MaDH], [MaBao], [SoLuong], [DonGia]) VALUES (N'DH01', N'B02 ', 1, 8500.0000)
INSERT [dbo].[CT_DONHANG] ([MaDH], [MaBao], [SoLuong], [DonGia]) VALUES (N'DH02', N'B01 ', 2, 8000.0000)
INSERT [dbo].[CT_DONHANG] ([MaDH], [MaBao], [SoLuong], [DonGia]) VALUES (N'DH02', N'B03 ', 5, 10000.0000)
/****** Object:  Table [dbo].[CT_PHIEUGIAO]    Script Date: 10/16/2010 19:41:16 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
SET ANSI_PADDING ON
GO
CREATE TABLE [dbo].[CT_PHIEUGIAO](
	[MaPG] [char](4) NOT NULL,
	[MaBao] [char](4) NOT NULL,
	[SoLuong] [int] NULL,
 CONSTRAINT [PK_CT_PHIEU_GIAO] PRIMARY KEY CLUSTERED 
(
	[MaPG] ASC,
	[MaBao] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
INSERT [dbo].[CT_PHIEUGIAO] ([MaPG], [MaBao], [SoLuong]) VALUES (N'PG01', N'B01 ', 3)
INSERT [dbo].[CT_PHIEUGIAO] ([MaPG], [MaBao], [SoLuong]) VALUES (N'PG01', N'B02 ', 1)
INSERT [dbo].[CT_PHIEUGIAO] ([MaPG], [MaBao], [SoLuong]) VALUES (N'PG02', N'B01 ', 2)
INSERT [dbo].[CT_PHIEUGIAO] ([MaPG], [MaBao], [SoLuong]) VALUES (N'PG02', N'B03 ', 4)
/****** Object:  ForeignKey [FK_BAO_THE_LOAI]    Script Date: 10/16/2010 19:41:16 ******/
ALTER TABLE [dbo].[BAO]  WITH CHECK ADD  CONSTRAINT [FK_BAO_THE_LOAI] FOREIGN KEY([MaTheLoai])
REFERENCES [dbo].[THE_LOAI] ([MaTheLoai])
GO
ALTER TABLE [dbo].[BAO] CHECK CONSTRAINT [FK_BAO_THE_LOAI]
GO
/****** Object:  ForeignKey [FK_KHACH_HANG_LOAI_NGUOI_DUNG]    Script Date: 10/16/2010 19:41:16 ******/
ALTER TABLE [dbo].[KHACH_HANG]  WITH CHECK ADD  CONSTRAINT [FK_KHACH_HANG_LOAI_NGUOI_DUNG] FOREIGN KEY([MaLoaiKH])
REFERENCES [dbo].[LOAI_NGUOI_DUNG] ([MaLoai])
GO
ALTER TABLE [dbo].[KHACH_HANG] CHECK CONSTRAINT [FK_KHACH_HANG_LOAI_NGUOI_DUNG]
GO
/****** Object:  ForeignKey [FK_DON_NHAP_DAI_LY]    Script Date: 10/16/2010 19:41:16 ******/
ALTER TABLE [dbo].[DON_NHAP]  WITH CHECK ADD  CONSTRAINT [FK_DON_NHAP_DAI_LY] FOREIGN KEY([DaiLy])
REFERENCES [dbo].[DAI_LY] ([MaDaiLy])
GO
ALTER TABLE [dbo].[DON_NHAP] CHECK CONSTRAINT [FK_DON_NHAP_DAI_LY]
GO
/****** Object:  ForeignKey [FK_DON_HANG_KHACH_HANG]    Script Date: 10/16/2010 19:41:16 ******/
ALTER TABLE [dbo].[DON_HANG]  WITH CHECK ADD  CONSTRAINT [FK_DON_HANG_KHACH_HANG] FOREIGN KEY([MaKH])
REFERENCES [dbo].[KHACH_HANG] ([MaKH])
GO
ALTER TABLE [dbo].[DON_HANG] CHECK CONSTRAINT [FK_DON_HANG_KHACH_HANG]
GO
/****** Object:  ForeignKey [FK_CT_DONNHAP_BAO]    Script Date: 10/16/2010 19:41:16 ******/
ALTER TABLE [dbo].[CT_DONNHAP]  WITH CHECK ADD  CONSTRAINT [FK_CT_DONNHAP_BAO] FOREIGN KEY([MaBao])
REFERENCES [dbo].[BAO] ([MaBao])
GO
ALTER TABLE [dbo].[CT_DONNHAP] CHECK CONSTRAINT [FK_CT_DONNHAP_BAO]
GO
/****** Object:  ForeignKey [FK_CT_DONNHAP_DON_NHAP]    Script Date: 10/16/2010 19:41:16 ******/
ALTER TABLE [dbo].[CT_DONNHAP]  WITH CHECK ADD  CONSTRAINT [FK_CT_DONNHAP_DON_NHAP] FOREIGN KEY([MaDN])
REFERENCES [dbo].[DON_NHAP] ([MaDN])
GO
ALTER TABLE [dbo].[CT_DONNHAP] CHECK CONSTRAINT [FK_CT_DONNHAP_DON_NHAP]
GO
/****** Object:  ForeignKey [FK_PHIEU_GIAO_BAO_DON_HANG]    Script Date: 10/16/2010 19:41:16 ******/
ALTER TABLE [dbo].[PHIEU_GIAO_BAO]  WITH CHECK ADD  CONSTRAINT [FK_PHIEU_GIAO_BAO_DON_HANG] FOREIGN KEY([MaDH])
REFERENCES [dbo].[DON_HANG] ([MaDH])
GO
ALTER TABLE [dbo].[PHIEU_GIAO_BAO] CHECK CONSTRAINT [FK_PHIEU_GIAO_BAO_DON_HANG]
GO
/****** Object:  ForeignKey [FK_CT_DONHANG_BAO]    Script Date: 10/16/2010 19:41:16 ******/
ALTER TABLE [dbo].[CT_DONHANG]  WITH CHECK ADD  CONSTRAINT [FK_CT_DONHANG_BAO] FOREIGN KEY([MaBao])
REFERENCES [dbo].[BAO] ([MaBao])
GO
ALTER TABLE [dbo].[CT_DONHANG] CHECK CONSTRAINT [FK_CT_DONHANG_BAO]
GO
/****** Object:  ForeignKey [FK_CT_DONHANG_DON_HANG]    Script Date: 10/16/2010 19:41:16 ******/
ALTER TABLE [dbo].[CT_DONHANG]  WITH CHECK ADD  CONSTRAINT [FK_CT_DONHANG_DON_HANG] FOREIGN KEY([MaDH])
REFERENCES [dbo].[DON_HANG] ([MaDH])
GO
ALTER TABLE [dbo].[CT_DONHANG] CHECK CONSTRAINT [FK_CT_DONHANG_DON_HANG]
GO
/****** Object:  ForeignKey [FK_CT_PHIEUGIAO_BAO]    Script Date: 10/16/2010 19:41:16 ******/
ALTER TABLE [dbo].[CT_PHIEUGIAO]  WITH CHECK ADD  CONSTRAINT [FK_CT_PHIEUGIAO_BAO] FOREIGN KEY([MaBao])
REFERENCES [dbo].[BAO] ([MaBao])
GO
ALTER TABLE [dbo].[CT_PHIEUGIAO] CHECK CONSTRAINT [FK_CT_PHIEUGIAO_BAO]
GO
/****** Object:  ForeignKey [FK_CT_PHIEUGIAO_PHIEU_GIAO_BAO]    Script Date: 10/16/2010 19:41:16 ******/
ALTER TABLE [dbo].[CT_PHIEUGIAO]  WITH CHECK ADD  CONSTRAINT [FK_CT_PHIEUGIAO_PHIEU_GIAO_BAO] FOREIGN KEY([MaPG])
REFERENCES [dbo].[PHIEU_GIAO_BAO] ([MaPG])
GO
ALTER TABLE [dbo].[CT_PHIEUGIAO] CHECK CONSTRAINT [FK_CT_PHIEUGIAO_PHIEU_GIAO_BAO]
GO
